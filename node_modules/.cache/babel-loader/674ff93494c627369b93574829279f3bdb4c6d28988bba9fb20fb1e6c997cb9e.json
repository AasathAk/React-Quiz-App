{"ast":null,"code":"var _jsxFileName = \"D:\\\\React Projects\\\\reactquiz\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport { useEffect, useReducer } from \"react\";\nimport Header from './components/Header';\nimport Loading from './components/Loading';\nimport Error from './components/Error';\nimport QuizMain from './components/QuizMain';\nimport EndQuiz from './components/EndQuiz';\nimport Question from './components/Question';\nimport NextButton from './components/NextButton';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  quizQuestion: [],\n  status: 'loading',\n  error: null,\n  index: 0,\n  // track the current question\n  selectedAnswer: null,\n  // to track the selected answer\n  points: 0,\n  // track the score\n  showNext: false // controls when to show the Next button\n};\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'fetch_success':\n      return {\n        ...state,\n        quizQuestion: action.payload,\n        status: 'ready'\n      };\n    case 'fetch_error':\n      return {\n        ...state,\n        status: 'error',\n        error: action.payload\n      };\n    case 'start_quiz':\n      return {\n        ...state,\n        status: 'active',\n        points: 0,\n        // reset points when starting or restarting\n        index: 0,\n        // reset to first question\n        selectedAnswer: null,\n        showNext: false\n      };\n    case 'next_question':\n      return {\n        ...state,\n        index: state.index + 1,\n        selectedAnswer: null,\n        showNext: false\n      };\n    case 'select_answer':\n      const isCorrect = action.payload === state.quizQuestion[state.index].correctAnswer;\n      return {\n        ...state,\n        selectedAnswer: action.payload,\n        points: isCorrect ? state.points + state.quizQuestion[state.index].points : state.points,\n        showNext: true\n      };\n    case 'finish_quiz':\n      return {\n        ...state,\n        status: 'finished'\n      };\n    case 'restart_quiz':\n      // new case for restarting the quiz\n      return {\n        ...state,\n        status: 'ready',\n        points: 0,\n        // reset points\n        index: 0,\n        // reset index\n        selectedAnswer: null,\n        showNext: false\n      };\n    default:\n      return state;\n  }\n}\nexport default function App() {\n  _s();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const {\n    quizQuestion,\n    status,\n    index,\n    selectedAnswer,\n    points,\n    showNext\n  } = state;\n  const totalQuestions = quizQuestion.length;\n  useEffect(() => {\n    fetch('http://localhost:8000/quizQuestion').then(res => res.json()).then(data => {\n      dispatch({\n        type: 'fetch_success',\n        payload: data\n      });\n    }).catch(err => {\n      dispatch({\n        type: 'fetch_error',\n        payload: err.message\n      });\n    });\n  }, []);\n  const handleStartQuiz = () => {\n    dispatch({\n      type: 'start_quiz'\n    });\n  };\n  const handleNextQuestion = () => {\n    if (index < totalQuestions - 1) {\n      dispatch({\n        type: 'next_question'\n      });\n    } else {\n      dispatch({\n        type: 'finish_quiz'\n      });\n    }\n  };\n  const handleAnswerSelect = selectedIndex => {\n    dispatch({\n      type: 'select_answer',\n      payload: selectedIndex\n    });\n  };\n  const handleRestart = () => {\n    dispatch({\n      type: 'start_quiz'\n    }); // Reset the state to start the quiz again\n  };\n  {\n    status === 'finished' && /*#__PURE__*/_jsxDEV(EndQuiz, {\n      points: state.points,\n      totalQuestions: totalQuestions,\n      highScore: 65,\n      onRestart: handleRestart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [status === 'loading' && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 32\n    }, this), status === 'error' && /*#__PURE__*/_jsxDEV(Error, {\n      message: state.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 30\n    }, this), status === 'ready' && /*#__PURE__*/_jsxDEV(Header, {\n      totalQuestions: totalQuestions,\n      onStartQuiz: handleStartQuiz\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 30\n    }, this), status === 'active' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(QuizMain, {\n        quizQuestion: quizQuestion,\n        index: index,\n        points: points\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Question, {\n        question: quizQuestion[index],\n        selectedAnswer: selectedAnswer,\n        onAnswerSelect: handleAnswerSelect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), showNext && /*#__PURE__*/_jsxDEV(NextButton, {\n        onNext: handleNextQuestion\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true), status === 'finished' && /*#__PURE__*/_jsxDEV(EndQuiz, {\n      points: points,\n      totalQuestions: totalQuestions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 33\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useReducer","Header","Loading","Error","QuizMain","EndQuiz","Question","NextButton","jsxDEV","_jsxDEV","Fragment","_Fragment","initialState","quizQuestion","status","error","index","selectedAnswer","points","showNext","reducer","state","action","type","payload","isCorrect","correctAnswer","App","_s","dispatch","totalQuestions","length","fetch","then","res","json","data","catch","err","message","handleStartQuiz","handleNextQuestion","handleAnswerSelect","selectedIndex","handleRestart","highScore","onRestart","fileName","_jsxFileName","lineNumber","columnNumber","children","onStartQuiz","question","onAnswerSelect","onNext","_c","$RefreshReg$"],"sources":["D:/React Projects/reactquiz/src/App.js"],"sourcesContent":["import './App.css';\nimport { useEffect, useReducer } from \"react\";\nimport Header from './components/Header';\nimport Loading from './components/Loading';\nimport Error from './components/Error';\nimport QuizMain from './components/QuizMain';\nimport EndQuiz from './components/EndQuiz';\nimport Question from './components/Question';\nimport NextButton from './components/NextButton';\n\nconst initialState = {\n  quizQuestion: [],\n  status: 'loading',\n  error: null,\n  index: 0, // track the current question\n  selectedAnswer: null, // to track the selected answer\n  points: 0, // track the score\n  showNext: false, // controls when to show the Next button\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'fetch_success':\n      return {\n        ...state,\n        quizQuestion: action.payload,\n        status: 'ready',\n      };\n    case 'fetch_error':\n      return {\n        ...state,\n        status: 'error',\n        error: action.payload,\n      };\n    case 'start_quiz':\n      return {\n        ...state,\n        status: 'active',\n        points: 0, // reset points when starting or restarting\n        index: 0,  // reset to first question\n        selectedAnswer: null,\n        showNext: false,\n      };\n    case 'next_question':\n      return {\n        ...state,\n        index: state.index + 1,\n        selectedAnswer: null,\n        showNext: false,\n      };\n    case 'select_answer':\n      const isCorrect = action.payload === state.quizQuestion[state.index].correctAnswer;\n      return {\n        ...state,\n        selectedAnswer: action.payload,\n        points: isCorrect ? state.points + state.quizQuestion[state.index].points : state.points,\n        showNext: true,\n      };\n    case 'finish_quiz':\n      return {\n        ...state,\n        status: 'finished',\n      };\n    case 'restart_quiz': // new case for restarting the quiz\n      return {\n        ...state,\n        status: 'ready',\n        points: 0, // reset points\n        index: 0,  // reset index\n        selectedAnswer: null,\n        showNext: false,\n      };\n    default:\n      return state;\n  }\n}\n\n\n\nexport default function App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { quizQuestion, status, index, selectedAnswer, points, showNext } = state;\n\n  const totalQuestions = quizQuestion.length;\n\n  useEffect(() => {\n    fetch('http://localhost:8000/quizQuestion')\n      .then((res) => res.json())\n      .then((data) => {\n        dispatch({ type: 'fetch_success', payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: 'fetch_error', payload: err.message });\n      });\n  }, []);\n\n  const handleStartQuiz = () => {\n    dispatch({ type: 'start_quiz' });\n  };\n\n  const handleNextQuestion = () => {\n    if (index < totalQuestions - 1) {\n      dispatch({ type: 'next_question' });\n    } else {\n      dispatch({ type: 'finish_quiz' });\n    }\n  };\n\n  const handleAnswerSelect = (selectedIndex) => {\n    dispatch({ type: 'select_answer', payload: selectedIndex });\n  };\n\n  const handleRestart = () => {\n    dispatch({ type: 'start_quiz' }); // Reset the state to start the quiz again\n  };\n  \n  {status === 'finished' && <EndQuiz points={state.points} totalQuestions={totalQuestions} highScore={65} onRestart={handleRestart} />}\n  \n  return (\n    <>\n      {status === 'loading' && <Loading />}\n      {status === 'error' && <Error message={state.error} />}\n      {status === 'ready' && <Header totalQuestions={totalQuestions} onStartQuiz={handleStartQuiz} />}\n      {status === 'active' && (\n        <>\n          <QuizMain quizQuestion={quizQuestion} index={index} points={points} />\n          <Question\n            question={quizQuestion[index]}\n            selectedAnswer={selectedAnswer}\n            onAnswerSelect={handleAnswerSelect}\n          />\n          {showNext && <NextButton onNext={handleNextQuestion} />}\n        </>\n      )}\n      {status === 'finished' && <EndQuiz points={points} totalQuestions={totalQuestions} />}\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}